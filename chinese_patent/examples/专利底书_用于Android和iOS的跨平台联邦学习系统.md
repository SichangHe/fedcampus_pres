# 专利底书_用于安卓和iOS的跨平台联邦学习系统

## 1、详细介绍技术背景，并描述已有的与本发明相关的现有技术，说明现有技术的缺点
<!-- 撰写指导：
只写与本发明有关的技术背景以及现有技术、现有技术的缺点。
 -->

随着国家对数据隐私保护的加强，传统的将用户数据集中到中心训练端的机器学习方法不再合规。联邦学习作为一种保护隐私的分布式机器学习方法，获得了大量关注。联邦学习通过本地训练模型并将模型参数发送到中心端进行聚合来实现。现有的联邦学习研究主要基于桌面计算机模拟，忽视了实际应用中的约束条件。为了在实际环境中利用真实用户数据优化联邦学习算法设计，亟需一种实用的移动联邦学习系统。然而，现有系统存在以下局限：

1. 缺乏跨平台的设备上训练和模型聚合能力。
2. 无法最大限度地控制用户设备上的联邦学习过程。
3. 数据科学家在开发移动联邦学习模型时面临开发环境的不熟悉。

## 2、本发明摘要：针对现有技术存在的技术问题，提出本发明的基本方案或基本思路，以及本发明针对现有技术所具备的整体技术效果
<!-- 撰写指导：
不必描述实施细节，概括说明本发明的方案或思路，并说明由这种方案能带来的技术效果。
 -->

本发明提出一种专为安卓和iOS设备上跨平台联邦学习设计的系统。通过支持模型转换、硬件加速训练和跨平台模型聚合，本发明解决了现有系统的局限性。主要功能包括：

1. **跨平台联邦学习模型管道**：提供统一训练API，将Python模型转换为安卓的TensorFlow Lite和iOS的Core ML格式。
2. **灵活的MLOps生产流程**：在生产环境中，支持模型的持续交付和训练，利用自托管后端服务器协调安卓和iOS客户端设备。
3. **跨平台模型聚合**：确保模型参数表示统一，解决TensorFlow Lite和Core ML中模型参数提取和恢复问题。

通过这些功能，本发明支持跨安卓和iOS设备进行联邦学习，协调统一后端服务器的管理，实现联邦模型的有效聚合。

## 3、本发明技术方案的详细阐述

<!-- 撰写指导：
3．1、充分说明本发明每一个详细技术方案，
3．2、本发明技术方案带来的效果的详细描述，不仅要说明本发明整体能带来的效果，而且由于某些技术特征可以直接导致的技术效果，也应该在这里结合技术特征的说明来描述效果；
3．3、充分说明所有可以实现本发明的实施方式，主要从实现本发明的细节角度考虑是否有相类似的方式方法或者其他变形的方法，如果有，则请列出。
 -->

### 3.1 详细技术方案

#### 3.1.1 跨平台联邦学习模型管道

1. **模型转换**：将Python模型转换为TensorFlow Lite和Core ML格式，使用标准化模型格式，包括训练、推理、参数提取、参数恢复四个方法。
2. **统一训练API**：提供TensorFlow Lite训练包和Core ML训练包，支持在安卓和iOS设备上利用GPU和NPU加速训练，并暴露统一API用于参数获取和设置、模型拟合和评估。

#### 3.1.2 灵活的MLOps生产流程

1. **持续跨平台模型交付**：客户端通过模型请求从后端获取适合其平台和训练数据类型的模型。
2. **可定制的持续联邦学习训练**：支持多并行联邦学习训练会话，通过联邦学习服务器设置，允许新模型立即开始训练，而不影响现有训练会话。

### 3.2 技术效果

本发明提供了一种有效的跨平台联邦学习解决方案，解决了移动设备上跨平台训练和聚合的挑战，提高了模型交付和训练的灵活性，并在实际场景中验证了其有效性。

### 3.3 实现方式

1. **模型转换和训练**：利用ProtoBuf定义文件生成的Swift代码，修改Core ML模型的底层表示以解决参数设置限制。
2. **跨平台聚合**：通过标准化模型参数表示，实现了TensorFlow Lite和Core ML模型参数的统一处理，确保聚合的无缝进行。
3. **MLOps流程**：利用Django后端和Flower联邦学习框架，管理联邦学习训练的调度和评估。

## 4、本发明创新的关键点和想保护的技术方案是什么？

<!-- 撰写指导：
与已知的现有技术相比，本发明会有一些与其不同的关键区别点，这些关键区别点通常会带来明显的或重要的技术效果，这里请说明哪些点是关键区别点，并将这些点可能的组合方案都列举出来。 -->

### 4.1 关键区别点

1. **跨平台联邦学习模型管道**：实现了Python模型到TensorFlow Lite和Core ML格式的转换和统一训练API。
2. **灵活的MLOps生产流程**：支持模型的持续交付和多并行联邦学习训练会话。
3. **跨平台模型聚合**：解决了在TensorFlow Lite和Core ML中的参数获取和设置问题，实现了统一的模型参数表示和处理。

### 4.2 创新点

1. **首次实现了跨平台联邦学习系统的模型转换和统一训练API**。
2. **提供了灵活的MLOps生产流程，支持持续模型交付和训练**。
3. **解决了跨平台模型参数表示的统一问题，实现了无缝聚合**。

## 5、本发明可能的变更设计方向或者变形方案？

<!-- 撰写指导：
从整体考虑，是否有整体的替代或变形方案，或者对核心技术特征的替代或变形方案；主要根据本发明体现出来的设计思路，别人能不能想到其他的整体的替代方案来实现；
从另一个角度讲：考虑授权后，站在竞争对手的角度可能提出的回避设计方案。
 -->

1. **降低计算复杂度的方法**：优化模型转换和参数处理的算法，以提高效率。
2. **其他跨平台框架支持**：扩展支持其他移动平台和机器学习框架，以增强系统的适用性。

## 6、发明人补充的其他观点和思路
<!-- 撰写指导：
除1－5部分还需要补充的部分。
 -->

## 7、图及说明
<!-- 撰写指导：
1、交底书部分中未提及的附图标记不得在附图中出现，附图中未出现的附图标记不得在交底书文字中提及；
2、附图中除必须词语（如电路或程序的方框图、流程图、波形图等）外，尽量不要包含有其它文字注释；
3、同一部件或部分的附图标记在前后几幅附图中应一致，同一附图标记不得表示不同的部件或部分；
4、附图集中放在交底书文字之后；
5、附图中，零部件的编号可以用数字表示，也可以直接用零部件的名称来表示。
 -->
